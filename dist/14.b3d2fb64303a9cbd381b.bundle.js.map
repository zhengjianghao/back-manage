{"version":3,"sources":["webpack:///./src/page/login/style.scss","webpack:///./src/page/login/index.js"],"names":["module","exports","e","r","Symbol","n","iterator","o","toStringTag","i","c","u","f","p","y","G","prototype","Generator","Object","create","_regeneratorDefine2","v","a","d","bind","t","l","TypeError","call","done","value","length","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_classCallCheck","_defineProperties","_toPropertyKey","key","_createClass","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","_typeof","_assertThisInitialized","ReferenceError","Boolean","valueOf","_inherits","_setPrototypeOf","_defineProperty","_toPrimitive","toPrimitive","String","Number","__signature__","reactHotLoaderGlobal","signature","FormItem","_Form","Item","userData","getUserDataStorage","LoginPage","_React$PureComponent","props","_this","passwordInputRef","usernameInputRef","current","focus","_ref","_callee","userName","password","_t","_context","requestUserLogin","_message","success","error","concat","_x","_x2","preventDefault","form","validateFields","err","values","handleUserLogin","React","createRef","document","title","this","focusInput","getFieldDecorator","createElement","className","style","container","onSubmit","handleSubmit","rules","required","message","initialValue","username","_Input","prefix","_Icon","type","placeholder","onChange","userNameChange","ref","_Button","htmlType","__reactstandin__regenerateByEval","code","eval","PureComponent","_default","propTypes","PropTypes","object","isRequired","reactHotLoader","default","undefined","register","leaveModule"],"mappings":"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","file":"14.b3d2fb64303a9cbd381b.bundle.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"_3a4hMO7JQXBLw9kW9oEQIp\"};","// 登录页面\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Form, Icon, Input, Button, message } from 'antd';\n\nimport style from './style.scss';\nimport { requestUserLogin } from 'service/user-service.js';\nimport { getUserDataStorage, saveUserDataStorage } from 'util/storege';\n\nconst FormItem = Form.Item;\nconst userData = getUserDataStorage();\n\nclass LoginPage extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.usernameInputRef = React.createRef();\n    this.passwordInputRef = React.createRef();\n  }\n\n  componentDidMount() {\n    document.title = '登录页面';\n    this.focusInput();\n  }\n\n  focusInput = () => {\n    if (userData) {\n      const passwordInputNode = this.passwordInputRef.current;\n      passwordInputNode.focus();\n    } else {\n      const userNameInputNode = this.usernameInputRef.current;\n      userNameInputNode.focus();\n    }\n  }\n\n  /**\n   * 处理用户登录，登录成功后，将用户信息保存在本地\n   * @param {string} userName 用户账号\n   * @param {string} password 用户密码\n   */\n  handleUserLogin = async (userName, password) => {\n    // saveUserDataStorage({name: 'jinmu'});\n    try {\n      await requestUserLogin(userName, password);\n      message.success('登录成功');\n    } catch (error) {\n      message.error(`登录失败：${error}`);\n    }\n  }\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    this.props.form.validateFields((err, values) => {\n      if (!err) {\n        const { userName, password } = values;\n        this.handleUserLogin(userName, password);\n      }\n    });\n  }\n\n  render() {\n    const { getFieldDecorator } = this.props.form;\n\n    return (\n      <div className={style.container}>\n\n        <Form onSubmit={this.handleSubmit} className='form-container'>\n\n          <FormItem>\n            {getFieldDecorator('userName', {\n              rules: [{ required: true, message: '请输入账号!' }],\n              initialValue: userData ? userData.username : ''\n            })(\n              <Input\n                className='form-input' \n                prefix={<Icon type=\"user\" />}\n                placeholder=\"账号为 admin\"\n                onChange={this.userNameChange}\n                ref={this.usernameInputRef}\n              />\n            )}\n          </FormItem>\n\n          <FormItem>\n            {getFieldDecorator('password', {\n              rules: [{ required: true, message: '请输入密码!' }],\n            })(\n              <Input\n                className='form-input'\n                prefix={<Icon type=\"lock\" />}\n                type=\"password\"\n                placeholder=\"密码为 admin\"\n                ref={this.passwordInputRef}\n              />\n            )}\n          </FormItem>\n\n          <Button\n            type=\"primary\"\n            htmlType=\"submit\"\n            className='form-button'\n          >\n            登录\n          </Button>\n        </Form>\n      </div>\n    );\n  }\n}\n\nLoginPage.propTypes = {\n  form: PropTypes.object.isRequired,\n};\n\nexport default Form.create()(LoginPage);\n"],"sourceRoot":""}