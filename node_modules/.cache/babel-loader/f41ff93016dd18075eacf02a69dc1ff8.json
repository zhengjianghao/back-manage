{"ast":null,"code":"import \"antd/lib/row/style/css\";\nimport _Row from \"antd/lib/row\";\nimport \"antd/lib/radio/style/css\";\nimport _Radio from \"antd/lib/radio\";\nvar _jsxFileName = \"/Users/zhengjianghao/\\u9879\\u76EE/react-antd-admin-master/src/views/permission/Toggle.js\";\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { setUserInfo } from '@/redux/actions/userInfo';\nimport { addTag, removeTag } from '@/redux/actions/tagList';\nimport { connect } from 'react-redux';\nconst RadioGroup = _Radio.Group;\nconst RadioButton = _Radio.Button;\nclass Toggle extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      value: null\n    };\n    this.onChange = e => {\n      const value = e.target.value;\n      const name = value === 1 ? '超级管理员' : '普通用户';\n      if (value === 1) {\n        this.props.history.push('/permission/toggle');\n      } else {\n        this.props.history.push('/permission/intercept');\n        this.props.removeTag('/permission/toggle');\n        this.props.addTag({\n          title: '路由拦截',\n          path: '/permission/intercept'\n        });\n      }\n      // 模拟生成一些数据\n      this.props.setUserInfo(Object.assign({}, this.props.userInfo, {\n        role: {\n          type: value,\n          name\n        }\n      }));\n      localStorage.setItem('userInfo', JSON.stringify(Object.assign({}, this.props.userInfo, {\n        role: {\n          type: value,\n          name\n        }\n      })));\n    };\n  }\n  render() {\n    const userInfo = this.props.userInfo;\n    if (Object.keys(userInfo).length === 0) return null;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"shadow-radius\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(_Row, {\n      style: {\n        marginBottom: '15px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(RadioGroup, {\n      defaultValue: parseInt(userInfo.role.type),\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(RadioButton, {\n      value: 0,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 7\n      }\n    }, \"\\u666E\\u901A\\u7528\\u6237\"), /*#__PURE__*/React.createElement(RadioButton, {\n      value: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 7\n      }\n    }, \"\\u8D85\\u7EA7\\u7BA1\\u7406\\u5458\"))), /*#__PURE__*/React.createElement(_Row, {\n      style: {\n        marginBottom: '15px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 5\n      }\n    }, \"hi, \", this.props.userInfo.userName, \"\\uFF0C\\u4F60\\u5F53\\u524D\\u4E3A\\u8D85\\u7EA7\\u7BA1\\u7406\\u5458\\uFF0C\"), /*#__PURE__*/React.createElement(_Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 5\n      }\n    }, \"\\u53EA\\u6709\\u8D85\\u7EA7\\u7BA1\\u7406\\u5458\\u53EF\\u4EE5\\u770B\\u5230\\u5F53\\u524D\\u9875\\u9762\\uFF0C\\u5207\\u6362\\u5230\\u666E\\u901A\\u7528\\u6237\\u65F6\\uFF0C\\u65E0\\u6CD5\\u8BBF\\u95EE\\u5F53\\u524D\\u9875\\u9762\\u548C\\u8868\\u5355\\u9875\\u9762\"));\n  }\n  // @ts-ignore\n  __reactstandin__regenerateByEval(key, code) {\n    // @ts-ignore\n    this[key] = eval(code);\n  }\n}\nconst mapStateToProps = state => state;\nconst mapDispatchToProps = dispatch => ({\n  setUserInfo: data => {\n    dispatch(setUserInfo(data));\n  },\n  addTag: data => {\n    dispatch(addTag(data));\n  },\n  removeTag: data => {\n    dispatch(removeTag(data));\n  }\n});\nconst _default = withRouter(connect(mapStateToProps, mapDispatchToProps)(Toggle));\nexport default _default;\n;\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n  if (!reactHotLoader) {\n    return;\n  }\n  reactHotLoader.register(RadioGroup, \"RadioGroup\", \"/Users/zhengjianghao/\\u9879\\u76EE/react-antd-admin-master/src/views/permission/Toggle.js\");\n  reactHotLoader.register(RadioButton, \"RadioButton\", \"/Users/zhengjianghao/\\u9879\\u76EE/react-antd-admin-master/src/views/permission/Toggle.js\");\n  reactHotLoader.register(Toggle, \"Toggle\", \"/Users/zhengjianghao/\\u9879\\u76EE/react-antd-admin-master/src/views/permission/Toggle.js\");\n  reactHotLoader.register(mapStateToProps, \"mapStateToProps\", \"/Users/zhengjianghao/\\u9879\\u76EE/react-antd-admin-master/src/views/permission/Toggle.js\");\n  reactHotLoader.register(mapDispatchToProps, \"mapDispatchToProps\", \"/Users/zhengjianghao/\\u9879\\u76EE/react-antd-admin-master/src/views/permission/Toggle.js\");\n  reactHotLoader.register(_default, \"default\", \"/Users/zhengjianghao/\\u9879\\u76EE/react-antd-admin-master/src/views/permission/Toggle.js\");\n})();\n;\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"names":["React","Component","withRouter","setUserInfo","addTag","removeTag","connect","RadioGroup","_Radio","Group","RadioButton","Button","Toggle","constructor","args","state","value","onChange","e","target","name","props","history","push","title","path","Object","assign","userInfo","role","type","localStorage","setItem","JSON","stringify","render","keys","length","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","_Row","style","marginBottom","defaultValue","parseInt","userName","__reactstandin__regenerateByEval","key","code","eval","mapStateToProps","mapDispatchToProps","dispatch","data","_default","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/Users/zhengjianghao/项目/react-antd-admin-master/src/views/permission/Toggle.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { Radio, Row } from 'antd';\nimport { withRouter } from 'react-router-dom';\nimport { setUserInfo } from '@/redux/actions/userInfo';\nimport { addTag, removeTag } from '@/redux/actions/tagList';\nimport { connect } from 'react-redux';\n\nconst RadioGroup = Radio.Group;\nconst RadioButton = Radio.Button;\n\nclass Toggle extends Component {\n\tstate = { value: null };\n\n\tonChange = e => {\n\t\tconst value = e.target.value;\n\t\tconst name = value === 1 ? '超级管理员' : '普通用户';\n\t\tif (value === 1) {\n\t\t\tthis.props.history.push('/permission/toggle');\n\t\t} else {\n\t\t\tthis.props.history.push('/permission/intercept');\n\t\t\tthis.props.removeTag('/permission/toggle');\n\t\t\tthis.props.addTag({\n\t\t\t\ttitle: '路由拦截',\n\t\t\t\tpath: '/permission/intercept'\n\t\t\t});\n\t\t}\n\t\t// 模拟生成一些数据\n\t\tthis.props.setUserInfo(Object.assign({}, this.props.userInfo, { role: { type: value, name } }));\n\t\tlocalStorage.setItem('userInfo', JSON.stringify(Object.assign({}, this.props.userInfo, { role: { type: value, name } })));\n\t};\n\trender() {\n\t\tconst userInfo = this.props.userInfo;\n\t\tif (Object.keys(userInfo).length === 0) return null;\n\t\treturn (\n\t\t\t<div className=\"shadow-radius\">\n\t\t\t\t<Row style={{ marginBottom: '15px' }}>\n\t\t\t\t\t<RadioGroup defaultValue={parseInt(userInfo.role.type)} onChange={this.onChange}>\n\t\t\t\t\t\t<RadioButton value={0}>普通用户</RadioButton>\n\t\t\t\t\t\t<RadioButton value={1}>超级管理员</RadioButton>\n\t\t\t\t\t</RadioGroup>\n\t\t\t\t</Row>\n\t\t\t\t<Row style={{ marginBottom: '15px' }}>hi, {this.props.userInfo.userName}，你当前为超级管理员，</Row>\n\t\t\t\t<Row>只有超级管理员可以看到当前页面，切换到普通用户时，无法访问当前页面和表单页面</Row>\n\t\t\t</div>\n\t\t);\n\t}\n}\nconst mapStateToProps = state => state;\nconst mapDispatchToProps = dispatch => ({\n\tsetUserInfo: data => {\n\t\tdispatch(setUserInfo(data));\n\t},\n\taddTag: data => {\n\t\tdispatch(addTag(data));\n\t},\n\tremoveTag: data => {\n\t\tdispatch(removeTag(data));\n\t}\n});\n\nexport default withRouter(\n\tconnect(\n\t\tmapStateToProps,\n\t\tmapDispatchToProps\n\t)(Toggle)\n);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}