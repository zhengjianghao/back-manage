{"ast":null,"code":"import \"antd/lib/icon/style/css\";\nimport _Icon from \"antd/lib/icon\";\nimport \"antd/lib/menu/style/css\";\nimport _Menu from \"antd/lib/menu\";\nimport \"antd/lib/layout/style/css\";\nimport _Layout from \"antd/lib/layout\";\nvar _jsxFileName = \"/Users/zhengjianghao/\\u9879\\u76EE/react-antd-admin-master/src/views/layout/SideMenu.js\";\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter, Link } from 'react-router-dom';\nimport { setUserInfo } from '@/redux/actions/userInfo';\nimport { addTag } from '@/redux/actions/tagList';\nimport { menus } from '@/router/menus';\nimport { routes } from '@/router/routes';\nconst {\n  Sider\n} = _Layout;\nconst {\n  SubMenu\n} = _Menu;\nclass SideNenu extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      menuSelected: this.props.history.location.pathname\n    };\n    this.handleFilter = permission => {\n      const roleType = localStorage.getItem('userInfo') && JSON.parse(localStorage.getItem('userInfo')).role.type;\n      // 过滤没有权限的页面\n      if (!permission || permission === roleType) {\n        return true;\n      }\n      return false;\n    };\n    // 递归渲染菜单\n    this.renderMenu = data => {\n      return data.map(item => {\n        if (item.children) {\n          return this.handleFilter(item.permission) && /*#__PURE__*/React.createElement(SubMenu, {\n            key: item.path,\n            title: /*#__PURE__*/React.createElement(\"span\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 43,\n                columnNumber: 9\n              }\n            }, item.icon ? /*#__PURE__*/React.createElement(_Icon, {\n              type: item.icon,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 44,\n                columnNumber: 23\n              }\n            }) : '', /*#__PURE__*/React.createElement(\"span\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 45,\n                columnNumber: 10\n              }\n            }, item.title)),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 40,\n              columnNumber: 7\n            }\n          }, this.renderMenu(item.children));\n        }\n        return this.handleFilter(item.permission) && /*#__PURE__*/React.createElement(_Menu.Item, {\n          key: item.path,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 6\n          }\n        }, /*#__PURE__*/React.createElement(Link, {\n          to: item.path,\n          onClick: () => this.handClickTag(item),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 7\n          }\n        }, item.icon ? /*#__PURE__*/React.createElement(_Icon, {\n          type: item.icon,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 21\n          }\n        }) : '', /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 8\n          }\n        }, item.title)));\n      });\n    };\n  }\n  // 点击之后加入页签\n  handClickTag(currentLink, parent) {\n    const {\n      path,\n      title\n    } = currentLink;\n    for (let i = 0; i < routes.length; i++) {\n      if (path === routes[i].path) {\n        let obj = {\n          path,\n          title,\n          component: routes[i].component\n        };\n        this.props.addTag(parent ? Object.assign({}, obj, {\n          parent: parent.title\n        }) : obj);\n      }\n    }\n  }\n  render() {\n    // console.log(this.props);\n    const menuSelected = this.props.history.location.pathname;\n    const menuOpened = `/${menuSelected.split('/')[1]}`;\n    const type = this.props.theme.type;\n    const {\n      collapse\n    } = this.props;\n    return /*#__PURE__*/React.createElement(Sider, {\n      trigger: null,\n      collapsible: true,\n      collapsed: collapse.isCollapsed,\n      theme: type,\n      className: \"app-sider\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"logo\",\n      style: {\n        color: type === 'dark' ? '#ffffffa6' : ''\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 5\n      }\n    }, \"Logo\"), /*#__PURE__*/React.createElement(_Menu, {\n      style: {\n        height: '50px'\n      },\n      theme: type,\n      defaultOpenKeys: [menuOpened],\n      defaultSelectedKeys: [menuSelected],\n      selectedKeys: [menuSelected],\n      mode: \"inline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 5\n      }\n    }, this.renderMenu(menus)));\n  }\n  // @ts-ignore\n  __reactstandin__regenerateByEval(key, code) {\n    // @ts-ignore\n    this[key] = eval(code);\n  }\n}\nconst mapStateToProps = state => state;\nconst mapDispatchToProps = dispatch => ({\n  setUserInfo: data => {\n    dispatch(setUserInfo(data));\n  },\n  addTag: data => {\n    dispatch(addTag(data));\n  }\n});\nconst _default = connect(mapStateToProps, mapDispatchToProps)(withRouter(SideNenu));\nexport default _default;\n;\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n  if (!reactHotLoader) {\n    return;\n  }\n  reactHotLoader.register(Sider, \"Sider\", \"/Users/zhengjianghao/\\u9879\\u76EE/react-antd-admin-master/src/views/layout/SideMenu.js\");\n  reactHotLoader.register(SubMenu, \"SubMenu\", \"/Users/zhengjianghao/\\u9879\\u76EE/react-antd-admin-master/src/views/layout/SideMenu.js\");\n  reactHotLoader.register(SideNenu, \"SideNenu\", \"/Users/zhengjianghao/\\u9879\\u76EE/react-antd-admin-master/src/views/layout/SideMenu.js\");\n  reactHotLoader.register(mapStateToProps, \"mapStateToProps\", \"/Users/zhengjianghao/\\u9879\\u76EE/react-antd-admin-master/src/views/layout/SideMenu.js\");\n  reactHotLoader.register(mapDispatchToProps, \"mapDispatchToProps\", \"/Users/zhengjianghao/\\u9879\\u76EE/react-antd-admin-master/src/views/layout/SideMenu.js\");\n  reactHotLoader.register(_default, \"default\", \"/Users/zhengjianghao/\\u9879\\u76EE/react-antd-admin-master/src/views/layout/SideMenu.js\");\n})();\n;\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"names":["React","Component","connect","withRouter","Link","setUserInfo","addTag","menus","routes","Sider","_Layout","SubMenu","_Menu","SideNenu","constructor","args","state","menuSelected","props","history","location","pathname","handleFilter","permission","roleType","localStorage","getItem","JSON","parse","role","type","renderMenu","data","map","item","children","createElement","key","path","title","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","icon","_Icon","Item","to","onClick","handClickTag","currentLink","parent","i","length","obj","component","Object","assign","render","menuOpened","split","theme","collapse","trigger","collapsible","collapsed","isCollapsed","className","style","color","height","defaultOpenKeys","defaultSelectedKeys","selectedKeys","mode","__reactstandin__regenerateByEval","code","eval","mapStateToProps","mapDispatchToProps","dispatch","_default","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/Users/zhengjianghao/项目/react-antd-admin-master/src/views/layout/SideMenu.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter, Link } from 'react-router-dom';\nimport { Layout, Menu, Icon } from 'antd';\nimport { setUserInfo } from '@/redux/actions/userInfo';\nimport { addTag } from '@/redux/actions/tagList';\nimport { menus } from '@/router/menus';\nimport { routes } from '@/router/routes';\nconst { Sider } = Layout;\nconst { SubMenu } = Menu;\n\nclass SideNenu extends Component {\n\tstate = { menuSelected: this.props.history.location.pathname };\n\n\thandleFilter = permission => {\n\t\tconst roleType = localStorage.getItem('userInfo') && JSON.parse(localStorage.getItem('userInfo')).role.type;\n\t\t// 过滤没有权限的页面\n\t\tif (!permission || permission === roleType) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t};\n\n\t// 点击之后加入页签\n\thandClickTag(currentLink, parent) {\n\t\tconst { path, title } = currentLink;\n\t\tfor (let i = 0; i < routes.length; i++) {\n\t\t\tif (path === routes[i].path) {\n\t\t\t\tlet obj = { path, title, component: routes[i].component };\n\t\t\t\tthis.props.addTag(parent ? Object.assign({}, obj, { parent: parent.title }) : obj);\n\t\t\t}\n\t\t}\n\t}\n\t// 递归渲染菜单\n\trenderMenu = data => {\n\t\treturn data.map(item => {\n\t\t\tif (item.children) {\n\t\t\t\treturn (\n\t\t\t\t\tthis.handleFilter(item.permission) && (\n\t\t\t\t\t\t<SubMenu\n\t\t\t\t\t\t\tkey={item.path}\n\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t{item.icon ? <Icon type={item.icon} /> : ''}\n\t\t\t\t\t\t\t\t\t<span>{item.title}</span>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{this.renderMenu(item.children)}\n\t\t\t\t\t\t</SubMenu>\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn (\n\t\t\t\tthis.handleFilter(item.permission) && (\n\t\t\t\t\t<Menu.Item key={item.path}>\n\t\t\t\t\t\t<Link to={item.path} onClick={() => this.handClickTag(item)}>\n\t\t\t\t\t\t\t{item.icon ? <Icon type={item.icon} /> : ''}\n\t\t\t\t\t\t\t<span>{item.title}</span>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</Menu.Item>\n\t\t\t\t)\n\t\t\t);\n\t\t});\n\t};\n\trender() {\n\t\t// console.log(this.props);\n\t\tconst menuSelected = this.props.history.location.pathname;\n\t\tconst menuOpened = `/${menuSelected.split('/')[1]}`;\n\t\tconst type = this.props.theme.type;\n\t\tconst { collapse } = this.props;\n\t\treturn (\n\t\t\t<Sider trigger={null} collapsible collapsed={collapse.isCollapsed} theme={type} className=\"app-sider\">\n\t\t\t\t<div className=\"logo\" style={{ color: type === 'dark' ? '#ffffffa6' : '' }}>\n\t\t\t\t\tLogo\n\t\t\t\t</div>\n\t\t\t\t<Menu style={{ height: '50px' }} theme={type} defaultOpenKeys={[menuOpened]} defaultSelectedKeys={[menuSelected]} selectedKeys={[menuSelected]} mode=\"inline\">\n\t\t\t\t\t{this.renderMenu(menus)}\n\t\t\t\t</Menu>\n\t\t\t</Sider>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = state => state;\nconst mapDispatchToProps = dispatch => ({\n\tsetUserInfo: data => {\n\t\tdispatch(setUserInfo(data));\n\t},\n\taddTag: data => {\n\t\tdispatch(addTag(data));\n\t}\n});\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(withRouter(SideNenu));\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}