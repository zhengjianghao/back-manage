{"ast":null,"code":"var _jsxFileName = \"/Users/zhengjianghao/\\u9879\\u76EE/react-antd-admin-master/src/components/chart/Chart.js\";\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\nimport React, { Component } from 'react';\nimport { PropTypes } from 'prop-types';\nimport echarts from 'echarts';\nimport { debounce } from '@/utils';\nclass Chart extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      chart: null\n    };\n  }\n  componentDidMount() {\n    debounce(this.initChart.bind(this), 500)(); //初始化图表\n    window.addEventListener('resize', () => this.resize()); // 监听窗口，变化时重置图表\n  }\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.collapse.isCollapsed !== this.props.collapse.isCollapsed) {\n      this.resize();\n    }\n  }\n  componentWillUnmount() {\n    this.dispose();\n  }\n\n  // 重置图表\n  resize() {\n    const chart = this.state.chart;\n    if (chart) {\n      debounce(chart.resize.bind(this), 300)();\n    }\n  }\n  initChart() {\n    if (!this.el) return;\n    this.setState({\n      chart: echarts.init(this.el, 'macarons')\n    }, () => {\n      this.state.chart.setOption(this.props.chartData, true);\n    });\n  }\n  dispose() {\n    if (!this.state.chart) return;\n    window.removeEventListener('resize', () => this.resize()); // 移除窗口，变化时重置图表\n    this.setState({\n      chart: null\n    });\n  }\n  render() {\n    const {\n      className,\n      height,\n      width,\n      style\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: className,\n      ref: el => this.el = el,\n      style: {\n        ...style,\n        height,\n        width\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 10\n      }\n    });\n  }\n  // @ts-ignore\n  __reactstandin__regenerateByEval(key, code) {\n    // @ts-ignore\n    this[key] = eval(code);\n  }\n}\nChart.propTypes = {\n  width: PropTypes.string.isRequired,\n  height: PropTypes.string.isRequired,\n  className: PropTypes.string.isRequired,\n  style: PropTypes.object.isRequired,\n  chartData: PropTypes.object.isRequired\n};\nChart.defaultProps = {\n  width: '100%',\n  height: '340px',\n  className: 'shadow-radius',\n  style: {},\n  chartData: {}\n};\nconst _default = Chart;\nexport default _default;\n;\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n  if (!reactHotLoader) {\n    return;\n  }\n  reactHotLoader.register(Chart, \"Chart\", \"/Users/zhengjianghao/\\u9879\\u76EE/react-antd-admin-master/src/components/chart/Chart.js\");\n  reactHotLoader.register(_default, \"default\", \"/Users/zhengjianghao/\\u9879\\u76EE/react-antd-admin-master/src/components/chart/Chart.js\");\n})();\n;\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();","map":{"version":3,"names":["React","Component","PropTypes","echarts","debounce","Chart","constructor","args","state","chart","componentDidMount","initChart","bind","window","addEventListener","resize","componentWillReceiveProps","nextProps","collapse","isCollapsed","props","componentWillUnmount","dispose","el","setState","init","setOption","chartData","removeEventListener","render","className","height","width","style","createElement","ref","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","__reactstandin__regenerateByEval","key","code","eval","propTypes","string","isRequired","object","defaultProps","_default","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/Users/zhengjianghao/项目/react-antd-admin-master/src/components/chart/Chart.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { PropTypes } from 'prop-types';\nimport echarts from 'echarts';\nimport { debounce } from '@/utils';\n\nclass Chart extends Component {\n\tstatic propTypes = {\n\t\twidth: PropTypes.string.isRequired,\n\t\theight: PropTypes.string.isRequired,\n\t\tclassName: PropTypes.string.isRequired,\n\t\tstyle: PropTypes.object.isRequired,\n\t\tchartData: PropTypes.object.isRequired\n\t};\n\tstatic defaultProps = {\n\t\twidth: '100%',\n\t\theight: '340px',\n\t\tclassName: 'shadow-radius',\n\t\tstyle: {},\n\t\tchartData: {}\n\t};\n\n\tstate = { chart: null };\n\n\tcomponentDidMount() {\n\t\tdebounce(this.initChart.bind(this), 500)(); //初始化图表\n\t\twindow.addEventListener('resize', () => this.resize()); // 监听窗口，变化时重置图表\n\t}\n\n\tcomponentWillReceiveProps(nextProps) {\n\t\tif (nextProps.collapse.isCollapsed !== this.props.collapse.isCollapsed) {\n\t\t\tthis.resize();\n\t\t}\n\t}\n\n\tcomponentWillUnmount() {\n\t\tthis.dispose();\n\t}\n\n\t// 重置图表\n\tresize() {\n\t\tconst chart = this.state.chart;\n\t\tif (chart) {\n\t\t\tdebounce(chart.resize.bind(this), 300)();\n\t\t}\n\t}\n\n\tinitChart() {\n\t\tif (!this.el) return;\n\t\tthis.setState(\n\t\t\t{\n\t\t\t\tchart: echarts.init(this.el, 'macarons')\n\t\t\t},\n\t\t\t() => {\n\t\t\t\tthis.state.chart.setOption(this.props.chartData, true);\n\t\t\t}\n\t\t);\n\t}\n\n\tdispose() {\n\t\tif (!this.state.chart) return;\n\t\twindow.removeEventListener('resize', () => this.resize()); // 移除窗口，变化时重置图表\n\t\tthis.setState({ chart: null });\n\t}\n\trender() {\n\t\tconst { className, height, width, style } = this.props;\n\t\treturn <div className={className} ref={el => (this.el = el)} style={{ ...style, height, width }} />;\n\t}\n}\n\nexport default Chart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}